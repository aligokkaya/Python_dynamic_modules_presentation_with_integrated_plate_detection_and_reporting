<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>HasanSARMAN_PLAKA_OKUMA.main API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>HasanSARMAN_PLAKA_OKUMA.main</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import os
import signal
from glob import glob
from utils import Statics
import logging
import json
from utils.Logger import LoggerClass
from utils.ModuleRunner import ModuleRunnerClass
from utils.Reporter import ReporterClass
from utils.UtilsGeneric import check_missing_python_packages, module_loader, input_img_searcher, zip_outputs_logs
import sys
import atexit
import shutil
def main():
    &#34;&#34;&#34;Application starting point. Main function!
    It will check if you are root or not first, i only allow this code to work as root
    after that it will check system/packages.. , generate threads, and load modules dynamically.
    Everytime you add a new module you should restart this app to add it to process queu
         Parameters:
        :parameter None

        Returns:
        :returns None

        &#34;&#34;&#34;
    directory_contents = os.listdir(Statics.OUTPUT_FOLDER)
    for d in directory_contents:

        if os.path.isdir(Statics.OUTPUT_FOLDER + d):
            shutil.rmtree(Statics.OUTPUT_FOLDER + d)
    # in order to backup logs and outputs for consecutive restarts of the test platform.. we will capture signal.. and run a function to copy logs outputs to a new folder, also zip the outcome to another folder for keeping longterm test results.
    signal.signal(signal.SIGTERM, lambda num, frame: sys.exit(0))
    # if there is missing packages , we will install automatically thats why we need root permission.. we
    # can install with -U setting but if we are running inside a docker its safe to not run  with a sudo
    if os.geteuid() != 0:
        exit(&#34;You need to have root privileges to run this script.\nPlease try again, this time using &#39;sudo&#39;. Exiting.&#34;)
    Statics.LOGGER = LoggerClass()
    Statics.LOGGER.setup()
    Statics.LOGGER.logme(
        &#34;This application developed with a Unix based system. if you dont have any missing packages it will work without your integration.\n&#34;)

    Statics.LOGGER.logme(
        &#34;Checking system python packages, if anythng is missing you will be warned and this application will try to install it..\n&#34;)
    Statics.LOGGER.logme(
        &#34;On some MacOs and Windows based systems installation will fail.. please install requirements with newly generated INPUT_OUTPUT/requirements.txt file\n&#34;)
    check_missing_python_packages()

    Statics.LOGGER.logme(&#34;Starting to process Models Folder to get all avaliable models.&#34;)
    module_loader(Statics.MODULE_PATH)
    Statics.LOGGER.logme(&#34;FOUND MODULES COUNT = &#34;+str(len(Statics.MODULES)),logging.DEBUG)
    #initialize main module runner/controller
    Statics.MODULE_RUNNER=ModuleRunnerClass()
    #find all images in the Statics.INPUT_FOLDER
    Statics.LOGGER.logme(&#34;Searching for images recursively in &#34;+Statics.INPUT_FOLDER, logging.INFO)
    input_imgs=input_img_searcher()
    Statics.LOGGER.logme(&#34;FOund &#34;+str(len(input_imgs))+&#34; images in&#34; + Statics.INPUT_FOLDER, logging.INFO)

    Statics.LOGGER.logme(&#34;Found images&#34; + json.dumps(input_imgs), logging.DEBUG)
    #process found images , pass RESULTSET too  in order to get full report
    Statics.LOGGER.logme(&#34;MODULE RUNNER STARTING FOR = &#34;+str(len(Statics.MODULES))+&#34; MODULES&#34;,logging.INFO)

    Statics.MODULE_RUNNER.start_(input_imgs)


def OnExitApp():
    Statics.REPORTER = ReporterClass()
    Statics.REPORTER.create_report()
    Statics.REPORTER.open_as_webpage()

    # first zip log and outputs to a secure place with timestamp...
    zip_outputs_logs(Statics.OUTPUT_FOLDER)
    # in order for next tests not to fail.. we should clear outputs folder..
    &#34;&#34;&#34;directory_contents = os.listdir(Statics.OUTPUT_FOLDER)
    for d in directory_contents:

        if os.path.isdir(Statics.OUTPUT_FOLDER+d):
            shutil.rmtree(Statics.OUTPUT_FOLDER+d)
    &#34;&#34;&#34;

if __name__ == &#39;__main__&#39;:
    atexit.register(OnExitApp)
    main()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="HasanSARMAN_PLAKA_OKUMA.main.OnExitApp"><code class="name flex">
<span>def <span class="ident">OnExitApp</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def OnExitApp():
    Statics.REPORTER = ReporterClass()
    Statics.REPORTER.create_report()
    Statics.REPORTER.open_as_webpage()

    # first zip log and outputs to a secure place with timestamp...
    zip_outputs_logs(Statics.OUTPUT_FOLDER)
    # in order for next tests not to fail.. we should clear outputs folder..
    &#34;&#34;&#34;directory_contents = os.listdir(Statics.OUTPUT_FOLDER)
    for d in directory_contents:

        if os.path.isdir(Statics.OUTPUT_FOLDER+d):
            shutil.rmtree(Statics.OUTPUT_FOLDER+d)
    &#34;&#34;&#34;</code></pre>
</details>
</dd>
<dt id="HasanSARMAN_PLAKA_OKUMA.main.main"><code class="name flex">
<span>def <span class="ident">main</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Application starting point. Main function!
It will check if you are root or not first, i only allow this code to work as root
after that it will check system/packages.. , generate threads, and load modules dynamically.
Everytime you add a new module you should restart this app to add it to process queu
Parameters:
:parameter None</p>
<pre><code>Returns:
:returns None
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def main():
    &#34;&#34;&#34;Application starting point. Main function!
    It will check if you are root or not first, i only allow this code to work as root
    after that it will check system/packages.. , generate threads, and load modules dynamically.
    Everytime you add a new module you should restart this app to add it to process queu
         Parameters:
        :parameter None

        Returns:
        :returns None

        &#34;&#34;&#34;
    directory_contents = os.listdir(Statics.OUTPUT_FOLDER)
    for d in directory_contents:

        if os.path.isdir(Statics.OUTPUT_FOLDER + d):
            shutil.rmtree(Statics.OUTPUT_FOLDER + d)
    # in order to backup logs and outputs for consecutive restarts of the test platform.. we will capture signal.. and run a function to copy logs outputs to a new folder, also zip the outcome to another folder for keeping longterm test results.
    signal.signal(signal.SIGTERM, lambda num, frame: sys.exit(0))
    # if there is missing packages , we will install automatically thats why we need root permission.. we
    # can install with -U setting but if we are running inside a docker its safe to not run  with a sudo
    if os.geteuid() != 0:
        exit(&#34;You need to have root privileges to run this script.\nPlease try again, this time using &#39;sudo&#39;. Exiting.&#34;)
    Statics.LOGGER = LoggerClass()
    Statics.LOGGER.setup()
    Statics.LOGGER.logme(
        &#34;This application developed with a Unix based system. if you dont have any missing packages it will work without your integration.\n&#34;)

    Statics.LOGGER.logme(
        &#34;Checking system python packages, if anythng is missing you will be warned and this application will try to install it..\n&#34;)
    Statics.LOGGER.logme(
        &#34;On some MacOs and Windows based systems installation will fail.. please install requirements with newly generated INPUT_OUTPUT/requirements.txt file\n&#34;)
    check_missing_python_packages()

    Statics.LOGGER.logme(&#34;Starting to process Models Folder to get all avaliable models.&#34;)
    module_loader(Statics.MODULE_PATH)
    Statics.LOGGER.logme(&#34;FOUND MODULES COUNT = &#34;+str(len(Statics.MODULES)),logging.DEBUG)
    #initialize main module runner/controller
    Statics.MODULE_RUNNER=ModuleRunnerClass()
    #find all images in the Statics.INPUT_FOLDER
    Statics.LOGGER.logme(&#34;Searching for images recursively in &#34;+Statics.INPUT_FOLDER, logging.INFO)
    input_imgs=input_img_searcher()
    Statics.LOGGER.logme(&#34;FOund &#34;+str(len(input_imgs))+&#34; images in&#34; + Statics.INPUT_FOLDER, logging.INFO)

    Statics.LOGGER.logme(&#34;Found images&#34; + json.dumps(input_imgs), logging.DEBUG)
    #process found images , pass RESULTSET too  in order to get full report
    Statics.LOGGER.logme(&#34;MODULE RUNNER STARTING FOR = &#34;+str(len(Statics.MODULES))+&#34; MODULES&#34;,logging.INFO)

    Statics.MODULE_RUNNER.start_(input_imgs)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="HasanSARMAN_PLAKA_OKUMA" href="index.html">HasanSARMAN_PLAKA_OKUMA</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="HasanSARMAN_PLAKA_OKUMA.main.OnExitApp" href="#HasanSARMAN_PLAKA_OKUMA.main.OnExitApp">OnExitApp</a></code></li>
<li><code><a title="HasanSARMAN_PLAKA_OKUMA.main.main" href="#HasanSARMAN_PLAKA_OKUMA.main.main">main</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>